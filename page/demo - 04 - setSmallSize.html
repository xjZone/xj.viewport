<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" xj-viewport="{minWidth:320, minHeight:480, fillScreen:true, onlyMobile:false}" content="width=device-width,initial-scale=1" />
<script src="../dist/xj.viewport.js"></script>

<style>
html,body{margin:0;overflow:hidden;-webkit-text-size-adjust:100%;background-color:yellowgreen;}
.pack{position:absolute;top:50%;left:50%;margin:-240px 0 0 -160px;width:320px;height:480px;background-color:lightblue;}
</style>

<title>setSmallSize</title>
</head>
<body>



<div class="pack">
	<div>这个 div 的 width 和 height 分别为 320px 和 480px，由于设置 fillScreen 为 true，所以内容会填充屏幕，也就是当设备的尺寸大于设置的 320px 和 480px 时，视窗将会被缩小。</div>
	<br />
	<div>初始值 : width=device-width,initial-scale=1，设置值 : xj-viewport="{minWidth:320, minHeight:480, fillScreen:true, onlyMobile:false}"</div>
	<br />
	<div id="viewportContent"></div><div id="viewportDetails"></div>
	<br />
</div>



<script>
// 获取当前窗口的设置、尺寸、方向
var resizeListener = function(){
	document.getElementById('viewportContent').innerHTML = xj.viewport.get();
	document.getElementById('viewportDetails').innerHTML = xj.viewport.width() + ' / ' + xj.viewport.height() +' / '+ xj.viewport.orientation();
};
resizeListener();
window.addEventListener('resize', resizeListener, false);

// 阻止 Firefox(Android) 触屏滚动，这样可以解决浏览器尺寸计算 BUG
if(/Firefox/i.test(navigator.userAgent) && /Android/i.test(navigator.userAgent)){
	document.addEventListener('touchmove', function(event){
		if(event.touches.length >= 2){ return };
		event.preventDefault();
	}, {passive:false});
};
</script>



</body>
</html>


